{% extends "base.html" %}

{% block title %}Patients{% endblock %}

{% block content %}
    <h1>Patient Management</h1>

    <!-- Form to Add New Patient -->
    <form action="/patients" method="post" class="card">
        <h2>Add New Patient</h2>
        <div class="form-group">
            <label for="first_name">First Name</label>
            <input type="text" name="first_name" required>
        </div>
        <div class="form-group">
            <label for="last_name">Last Name</label>
            <input type="text" name="last_name" required>
        </div>
        <div class="form-group">
            <label for="date_of_birth">Date of Birth</label>
            <input type="date" name="date_of_birth" required>
        </div>
        <div class="form-group">
            <label for="gender">Gender</label>
            <input type="text" name="gender" required>
        </div>
        <div class="form-group">
            <label for="contact_number">Contact Number</label>
            <input type="text" name="contact_number" required>
        </div>
        <button type="submit" class="btn">Add Patient</button>
    </form>

    <!-- Table of Existing Patients -->
    <h2 style="margin-top: 2rem;">All Patients</h2>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>DOB</th>
                <th>Gender</th>
                <th>Contact</th>
            </tr>
        </thead>
        <tbody>
            {% for patient in patients %}
            <tr>
                <td>{{ patient.id }}</td>
                <td>{{ patient.first_name }} {{ patient.last_name }}</td>
                <td>{{ patient.date_of_birth }}</td>
                <td>{{ patient.gender }}</td>
                <td>{{ patient.contact_number }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}